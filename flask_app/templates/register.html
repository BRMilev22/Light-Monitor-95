{% extends "base.html" %}

{% block title %}Add New User Wizard{% endblock %}

{% block content %}
<div class="window" style="width: 400px; margin-top: 15vh;">
    <div class="window-title">
        <span class="window-title-text">
            <span>üßô‚Äç‚ôÇÔ∏è</span>
            <span style="font-weight: bold; font-family: sans-serif;">Add New User Wizard</span>
        </span>
        <div class="window-buttons">
            <button class="window-btn">?</button>
            <button class="window-btn">√ó</button>
        </div>
    </div>
    <div class="window-content">
        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
            <div class="flash flash-{{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <div style="display: flex; gap: 15px; margin-bottom: 20px;">
            <div style="padding-top: 10px;">
                <img src="https://win98icons.alexmeub.com/icons/png/users-32x32.png" alt="Users"
                    style="width: 32px; height: 32px; image-rendering: pixelated;">
            </div>
            <div style="flex: 1;">
                <div style="margin-bottom: 15px;">
                    <p>Type a name and password for the new user.</p>
                </div>

                <form method="POST" action="{{ url_for('register') }}">
                    <div class="form-group">
                        <label for="username">User name:</label>
                        <input type="text" id="username" name="username" required minlength="3" autocomplete="username">
                    </div>

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" name="password" required minlength="4"
                            autocomplete="new-password">
                    </div>
                </form>
            </div>
        </div>

        <div style="border-top: 1px solid #808080; border-bottom: 1px solid #ffffff; margin-bottom: 10px;"></div>

        <div class="flex-between" style="justify-content: flex-end; gap: 10px;">
            <button class="btn" style="width: 75px;" disabled>&lt; Back</button>
            <button class="btn btn-primary" style="width: 75px;" onclick="document.querySelector('form').submit()">Next
                &gt;</button>
            <button class="btn" style="width: 75px; margin-left: 10px;"
                onclick="window.location.href='{{ url_for('login') }}'">Cancel</button>
        </div>

    </div>
</div>
{% endblock %}